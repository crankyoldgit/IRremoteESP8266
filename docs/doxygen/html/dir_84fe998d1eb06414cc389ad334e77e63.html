<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IRremoteESP8266: src/locale Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IRremoteESP8266
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_84fe998d1eb06414cc389ad334e77e63.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">locale Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:de-CH_2Eh" id="r_de-CH_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="de-_c_h_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="de-_c_h_8h.html">de-CH.h</a></td></tr>
<tr class="memitem:de-DE_2Eh" id="r_de-DE_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="de-_d_e_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="de-_d_e_8h.html">de-DE.h</a></td></tr>
<tr class="memitem:defaults_2Eh" id="r_defaults_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="defaults_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="defaults_8h.html">defaults.h</a></td></tr>
<tr class="memitem:en-AU_2Eh" id="r_en-AU_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="en-_a_u_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="en-_a_u_8h.html">en-AU.h</a></td></tr>
<tr class="memitem:en-IE_2Eh" id="r_en-IE_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="en-_i_e_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="en-_i_e_8h.html">en-IE.h</a></td></tr>
<tr class="memitem:en-UK_2Eh" id="r_en-UK_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="en-_u_k_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="en-_u_k_8h.html">en-UK.h</a></td></tr>
<tr class="memitem:en-US_2Eh" id="r_en-US_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="en-_u_s_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="en-_u_s_8h.html">en-US.h</a></td></tr>
<tr class="memitem:es-ES_2Eh" id="r_es-ES_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="es-_e_s_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="es-_e_s_8h.html">es-ES.h</a></td></tr>
<tr class="memitem:fr-FR_2Eh" id="r_fr-FR_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="fr-_f_r_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fr-_f_r_8h.html">fr-FR.h</a></td></tr>
<tr class="memitem:it-IT_2Eh" id="r_it-IT_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="it-_i_t_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="it-_i_t_8h.html">it-IT.h</a></td></tr>
<tr class="memitem:nl-NL_2Eh" id="r_nl-NL_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="nl-_n_l_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nl-_n_l_8h.html">nl-NL.h</a></td></tr>
<tr class="memitem:pt-BR_2Eh" id="r_pt-BR_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="pt-_b_r_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="pt-_b_r_8h.html">pt-BR.h</a></td></tr>
<tr class="memitem:ru-RU_2Eh" id="r_ru-RU_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="ru-_r_u_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ru-_r_u_8h.html">ru-RU.h</a></td></tr>
<tr class="memitem:sk-SK_2Eh" id="r_sk-SK_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="sk-_s_k_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sk-_s_k_8h.html">sk-SK.h</a></td></tr>
<tr class="memitem:sv-SE_2Eh" id="r_sv-SE_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="sv-_s_e_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sv-_s_e_8h.html">sv-SE.h</a></td></tr>
<tr class="memitem:zh-CN_2Eh" id="r_zh-CN_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="zh-_c_n_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="zh-_c_n_8h.html">zh-CN.h</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<h1 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
Internationalisation (I18N) &amp; Locale Files</h1>
<p>This directory contains the files used by the library to store the text it uses. If you want to add support for a language, this is the correct place. If you are adding text strings to a routine, you should use the ones here.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
Changing the language/locale used by the library.</h1>
<p>There are several ways to change which locale file is used by the library. Use which ever one suits your needs best. To keep the space used by the library to a minimum, all methods require the change to happen at compile time. There is <em>no</em> runtime option to change locales.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Change <span class="tt">_IR_LOCALE_</span> in the <span class="tt">src/IRremoteESP8266.h</span> file.</h2>
<p>In the <a href="../IRremoteESP8266.h#L57-L59">IRremoteESP8266.h</a> file, find and locate the lines that look like: </p><div class="fragment"><div class="line"><span class="preprocessor">#ifndef _IR_LOCALE_</span></div>
<div class="line"><span class="preprocessor">#define _IR_LOCALE_ en-AU</span></div>
<div class="line"><span class="preprocessor">#endif  </span><span class="comment">// _IR_LOCALE_</span></div>
</div><!-- fragment --><p>Change <span class="tt">en-AU</span> to the language &amp; country that best suits your needs. e.g. <span class="tt">de-DE</span> for Germany/German.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Use a compile-time build flag.</h2>
<p>Use the compiler flag: <span class="tt">-D_IR_LOCALE_=en-AU</span> when compiling the library. Especially when compiling the <span class="tt"><a class="el" href="_i_rtext_8cpp.html">IRtext.cpp</a></span> file. Change <span class="tt">en-AU</span> to a value which matches one of the file names in this directory. e.g. <span class="tt">de-DE</span> for Germany/German, which will use the <span class="tt">de_DE.h</span> file.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Use the appropriate pre-prepared build environment. <em>(PlatformIO only)</em></h2>
<p>If you examine the <span class="tt">platformio.ini</span> file located in the same directory as the example code you may find pre-setup compile environments for the different supported locales. Choose the appropriate one for you language by asking PlatformIO to build or upload using that environment. e.g. See <span class="tt">IRrecvDumpV2</span>'s <a href="../../examples/IRrecvDumpV2/platformio.ini">platformio.ini</a></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Use a custom <span class="tt">build_flags</span>. <em>(PlatformIO only)</em></h2>
<p>Edit the <span class="tt">platformio.ini</span> file in the directory containing your example/source code. Either in the default PlatformIO environment (<span class="tt">[env]</span>), or in which ever PlatformIO environment you using, change or add the following line: </p><div class="fragment"><div class="line">build_flags = -D_IR_LOCALE_=en-AU ; Or use which ever locale variable you want.</div>
</div><!-- fragment --><p>Every time you change that line, you should do a <span class="tt">pio clean</span> or choose the <span class="tt">clean</span> option from the build menu, to ensure a fresh copy of <span class="tt">IRtext.o</span> is created.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Adding support for a new locale/language.</h1>
<p>Only <a href="https://en.wikipedia.org/wiki/ASCII#8-bit_codes">ASCII</a>/<a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> 8-bit characters are supported. <a href="https://en.wikipedia.org/wiki/Unicode">Unicode</a> is <b>not</b> supported. Unicode may work. It may not. It's just not supported. i.e. If Arduino's <span class="tt">Serial.print()</span> can handle it, it will probably work.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Copy/create a new locale file in this directory.</h2>
<p>Copy <a href="en-AU.h">en-AU.h</a> or which every is a closer fit for your language to <span class="tt">xx-YY.h</span> where <span class="tt">xx</span> is the <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">ISO code</a> for the language. e.g. <span class="tt">en</span> is English. <span class="tt">de</span> is German etc. and <span class="tt">YY</span> is the ISO country code. e.g. <span class="tt">AU</span> is Australia. Modify the comments and all <span class="tt">LOCALE_EN_AU_H_</span>s in the file to <span class="tt">LOCALE_XX_YY_H_</span> for your locale.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Override any <span class="tt">#&amp;zwj;define</span> values that reside in <span class="tt">defaults.h</span></h2>
<p>Go through the <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/locale/defaults.h">defaults.h</a> file, and find any <span class="tt">#&amp;zwj;define</span> lines that define a macro starting with <span class="tt">D_</span> that has text that needs to change for your locale. Copy or create a corresponding <span class="tt">#&amp;zwj;define D_STR_HELLOWORLD "Hello World"</span> in your <span class="tt">xx-YY.h</span> file, and translate the text appropriately e.g. <span class="tt">#&amp;zwj;define D_STR_HELLOWORLD "Bonjour le monde"</span> (French)</p>
<p>Any values you <span class="tt">#&amp;zwj;define</span> in <span class="tt">xx-YY.h</span> will override the corresponding value in the <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/locale/defaults.h">defaults.h</a> file.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Supporting a dialect/regional variant of another <em>existing</em> language/locale.</h2>
<p>Similar to the previous step, if you only need to modify a small subset of the strings used in another locale file, then include the other locale file and then make sure to <span class="tt">#&amp;zwj;undef</span> any strings that need to be (re-)changed. See the <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/locale/de-CH.h">Swiss-German</a> for an example of how to do this. i.e. It <span class="tt">#&amp;zwj;include "locale/de-DE.h"</span>s the German locale, and redefines any strings that are not standard <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/locale/de-DE.h">German</a>.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Adding new text strings to the library.</h1>
<p>If you need to add an entirely new string to the library to support some feature etc. e.g. <em>"Widget"</em>. You should first understand how the library tries to do this such that it is easy to support different languages for it.</p>
<ol type="1">
<li>Use a constant named <span class="tt">kWidgetStr</span> in the appropriate statement in the <span class="tt">.cpp</span> file.</li>
<li>Edit <a href="IRtext.cpp">IRtext.cpp</a>, and add the appropriate line for your new constant. e.g. <div class="fragment"><div class="line"><a class="code hl_typedef" href="_i_rremote_e_s_p8266_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> kWidgetStr = D_STR_WIDGET;</div>
<div class="ttc" id="a_i_rremote_e_s_p8266_8h_html_afbeda3fd1bdc8c37d01bdf9f5c8274ff"><div class="ttname"><a href="_i_rremote_e_s_p8266_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a></div><div class="ttdeci">std::string String</div><div class="ttdef"><b>Definition</b> IRremoteESP8266.h:1542</div></div>
</div><!-- fragment --> The <span class="tt">kWidgetStr</span> variable will house the sole copy of the string for the entire library. This limits any duplication. The <span class="tt">D_STR_WIDGET</span> macro will be what is targeted by the different language / locales files.</li>
<li>Edit <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/locale/defaults.h">locale/defaults.h</a>, and add the appropriate stanza for your new string. e.g. <div class="fragment"><div class="line"><span class="preprocessor">#ifndef D_STR_WIDGET</span></div>
<div class="line"><span class="preprocessor">#define D_STR_WIDGET &quot;Turbo&quot;</span></div>
<div class="line"><span class="preprocessor">#endif  </span><span class="comment">// D_STR_WIDGET</span></div>
</div><!-- fragment --></li>
<li><em>(Manual)</em> Update <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/IRtext.h">IRtext.h</a>, and add the appropriate line for your new constant. e.g. <div class="fragment"><div class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code hl_typedef" href="_i_rremote_e_s_p8266_8h.html#afbeda3fd1bdc8c37d01bdf9f5c8274ff">String</a> kWidgetStr;</div>
</div><!-- fragment --> For any file that <span class="tt">#&amp;zwj;include &lt;<a class="el" href="_i_rtext_8h.html">IRtext.h</a>&gt;</span>s this file, it will tell it that the string is stored elsewhere, and to look for it elsewhere at the object linking stage of the build. This is what makes the string be referenced from a central location.</li>
</ol>
<ol type="1">
<li><em>(Automatic)</em> Run <span class="tt">tools/generate_irtext_h.sh</span> to update <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/IRtext.h">IRtext.h</a>. In the <a href="https://github.com/crankyoldgit/IRremoteESP8266/blob/master/src/locale/">src/locale</a> directory. Run the <span class="tt">../../tools/generate_irtext_h.sh</span> command. It will update the file for you automatically. </li>
</ol>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="dir_84fe998d1eb06414cc389ad334e77e63.html">locale</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
